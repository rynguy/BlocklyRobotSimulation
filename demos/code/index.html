<!DOCTYPE html>
<html id="page">
<head>
<!-- Make a box -->
  <meta charset="utf-8">
  <meta name="google" value="notranslate">
  <title>Blockly Demo:</title>
  <link rel="stylesheet" href="style.css">
  <script src="../../blockly_compressed.js"></script>
  <script src="../../blocks_compressed.js"></script>
  <script src="../../ch_compressed.js"></script>
  <script src="../../cpp_compressed.js"></script>
  <script src="../../core/workspace.js"></script>
  <script src="../../generators/ch/linkbot.js"></script>
  <script src="../../generators/cpp/linkbot.js"></script>
  <script src="codeorig.js"></script>
  <script src="./jquery/dist/jquery.min.js"></script>
  <!-- Latest compiled and minified CSS -->

  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="./bootstrap/css/bootstrap-theme.min.css">
  
  <link rel="stylesheet" type="text/css" href="accordion.css"/>

  <!-- Latest compiled and minified JavaScript -->
  <script src="./bootstrap/js/bootstrap.min.js"></script>

  <style>
  #horizTranslate {
  }

  .navbar .nav,
  .navbar .nav > li {
    float:none;
    display:inline-block;
    *display:inline; /* ie7 fix */
    *zoom:1; /* hasLayout ie7 trigger */
    vertical-align: top;
  }

  .navbar-inner {
    text-align:center;
  }

  #numNav{
    
  }

  #home {
    width: 100px;
    height: 100px;
    background: url(./img/linkbot_spritesheet_robot_1.png) 0 0;
    border: none;
    z-index:1;
}

#home2 {
    width: 100px;
    height: 100px;
    background: url(./img/linkbot_spritesheet_robot_2.png) 0 0;
    border: none;
    visibility: hidden;
}

#home3 {
    width: 100px;
    height: 100px;
    background: url(./img/linkbot_spritesheet_robot_3.png) 0 0;
    border: none;
    visibility: hidden;
}

#home4 {
    width: 100px;
    height: 100px;
    background: url(./img/linkbot_spritesheet_robot_4.png) 0 0;
    border: none;
    visibility: hidden;
}


</style>

<script>
  var robotX = 0;
  var robotY = 0;
  var robotTwoX = 0;
  var robotTwoY = 0;
  var robotThreeX = 0;
  var robotThreeY = 0;
  var robotFourX = 0;
  var robotFourY = 0;
  var displayAngle = 0;
  var robot_r = 1.75;
  var robotTwo_r = 1.75;
  var robotThree_r = 1.75;
  var robotFour_r = 1.75;
  
  function getCoordinates()
  {
    if(document.getElementById('US Customary').checked)
      var coordinates = "(" + Math.round(robotX*100)/100 + " in," +  Math.round(robotY*100)/100 + " in)";
    else
      var coordinates = "(" + Math.round(robotX*100)/100 + " cm," +  Math.round(robotY*100)/100 + " cm)";
    return coordinates;
  }


  function getAngle()
  {
    var disp= displayAngle + " deg";
    return disp;
  }
  
</script>

 
</head>


<nav class="navbar" style="background-color:#C99700; color:#113661; z-index:0;">
<span style="margin-bottom:1px; padding:7px; background-color:#FFF; position:absolute; z-index:0;">
  <a href= "http://c-stem.ucdavis.edu/"><img src="./img/cstemlogo.png"></a></span>
 <div align="center" style="background-color:#C99700; color:#113661;" class="container-fluid">
   <div align="center" style=" padding-left: 300px; background-color:#C99700; color:#113661;" class="navbar-header">
       <span style="margin-left:0;" class="glyphicon glyphicon-bed" aria-hidden="true"></span>  
<nav style="text-align:center; font-size:25px; font-family:Arial Black, Gadget, sans-serif; position:relative; z-index:1;" id="numNav">Coding With Linkbot and Mindstorms
<br>
<select name="lessons" align="center" onchange="select_lessons();">
  <option id="select1" >Tutorial </option>
  <option id="select2" selected="selected">Coding Lessons</option>
  <option id="select3" >Math Lessons</option>
  <option id="select4" >Playground</option>
</select>
<a id="v1" style="display:none;" href="./v1.html">1</a>
<a id="v2" style="display:none;" href="./v1.html">2</a>
<a id="v3" style="display:none;" href="./v1.html">3</a>
<a id="v4" style="display:none;" href="./v1.html">4</a>
<a id="v5" style="display:none;" href="./v1.html">5</a>
<a id="c1" style="color:#276AC3;" href="./index.html">1</a>
<a id="c2" href="./c2.html">2</a>
<a id="c3" href="./c3.html">3</a>
<a id="c4" href="./c4.html">4</a>
<a id="c5" href="./c5.html">5</a>
<a id="c6" href="./c6.html">6</a>
<a id="c7" href="./c7.html">7</a>
<a id="c8" href="./c8.html">8</a>
<a id="c9" href="./c9.html">9</a>
<a id="c10" href="./c10.html">10</a>
<a id="m1" style="display:none;" href="./m1.html">1</a>
<a id="m2" style="display:none;" href="./m2.html">2</a>
<a id="m3" style="display:none;" href="./m3.html">3</a>
<a id="m4" style="display:none;" href="./m4.html">4</a>
<a id="m5" style="display:none;" href="./m5.html">5</a>
<a id="m6" style="display:none;" href="./m6.html">6</a>
<a id="m7" style="display:none;" href="./m7.html">7</a>
<a id="m8" style="display:none;" href="./m8.html">8</a>
<a id="m9" style="display:none;" href="./m9.html">9</a>
<a id="m10" style="display:none;" href="./m10.html">10</a>
<a id="p1" style="display:none;" href="./Playground.html">Playground</a>
</nav>

    </div>
  </div>
</nav>
<body style="width:100%; overflow-y:scroll;">
    <div  >

  <div style="position:relative; z-index:1;" class="row">

    <div style="padding-left:30px; margin-left:10px; width:580px" class="col-md-4">
    <div style="position:absolute; z-index:1; " class='box'><img id = "home" src="./img/largeTransparent.gif" style = "z-index:1; width: 160px; height: 160px; margin-top: 255px; margin-left: 80px;"></div> 
    <!-- 160 is used so the robot doesnt cover the run button when at the bottom. Z index wasn't working to make it appear under the buttons.  This is used instead of 200 for displaying, but the spritesheet is still 200x 200-->
    <div style="position:absolute; z-index:1; " class='box'><img id = "home2" src="./img/largeTransparent.gif" style = "width: 200px; height: 200px; margin-top: 75px; margin-left: 80px;"></div> 

    <div style="position:absolute; z-index:1; " class='box'><img id = "home3" src="./img/largeTransparent.gif" style = "width: 200px; height: 200px; margin-top: 75px; margin-left: 260px;"></div> 

    <div style="position:absolute; z-index:1; " class='box'><img id = "home4" src="./img/largeTransparent.gif" style = "width: 200px; height: 200px; margin-top: 255px; margin-left: 260px;"></div> 

    <div style="position:absolute; z-index:0; margin-top: -2px; margin-left:157px; font-weight:900; font-size:18px; color: black;">
      <b id = "plus-y2">24</b>
    </div> 
    <div style="position:absolute; z-index:0; margin-top: 178px; margin-left:157px; font-weight:900; font-size:18px; color: black;">
      <b id = "plus-y">12</b>
    </div> 
    <div style="position:absolute; z-index:0; margin-top: 519px; margin-left:151px; font-weight:900; font-size:18px; color: black;">
      <b id= "minus-y">-12</b>
    </div> 
    <div style="position:absolute; z-index:0; margin-top: 358px; margin-left:2px; font-weight:900; font-size:18px;color: black;">
      <b id= "minus-x" >-12</b>
    </div> 
    <div style="position:absolute; z-index:0; margin-top: 358px; margin-left:335px; font-weight:900; font-size:18px; color: black;">
      <b id= "plus-x" >12</b>
      
    </div>
    <div style="position:absolute; z-index:0; margin-top: 358px; margin-left:515px; font-weight:900; font-size:18px; color: black;">
      <b id= "plus-x2" >24</b>
    </div>
    <div style="position:absolute; z-index:0; margin-top: 358px; margin-left:165px; font-weight:900; font-size:18px; color: black;">
      <b id= "origin" >0</b>
    </div>
      <div id= "grid" style="position:relative; z-index:-1; width:542px; height:542px; float:left; background-color:#4F6F3A">
       <svg id="mysvg" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
         <defs>
           <pattern id="smallGrid" width="15" height="15" patternUnits="userSpaceOnUse">
             <path id="smallGrid2" d="M 15 0 L 0 0 0 15" fill="none" stroke="white" stroke-width="1"/>
           </pattern>
           <pattern id="grid" width="180" height="180" patternUnits="userSpaceOnUse">
             <rect  width="180" height="180" fill="url(#smallGrid)"/>
             <path  d="M 180 0 L 0 0 0 180" fill="none" stroke="#FF0000" stroke-width="4"/>
           </pattern>
         </defs>

         <rect width="100%" height="100%" fill="url(#grid)" />
       </svg>
       </div>

       <div>
      <button id="startover" style="margin-bottom:5px; margin-top:5px; width:100px; height:42px; background-color:#C99700; color:white; border:none;" class='start_Over' value='play'><span style="height:21px">Start Over</span>
              </button>
              <button id="runButton" style="z-index:3; margin-bottom:5px; width:100px; height:42px; background-color:#C99700; color:white; border:none;" class='toggleButton' value='play'>Run
              </button>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Units:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <input type="radio" name="units" id="US Customary" value="US Customary" onclick="toolbox()" onchange="document.getElementById('coordinates1').innerHTML = getCoordinates(); document.getElementById('coordinates2').innerHTML = getCoordinates(); document.getElementById('coordinates3').innerHTML = getCoordinates(); document.getElementById('coordinates4').innerHTML = getCoordinates(); units(); redraw(); angles();" checked>US Customary
              <input type="radio" name="units" id="Metric" value="Metric" onclick="toolbox()" onchange="document.getElementById('coordinates1').innerHTML = getCoordinates(); document.getElementById('coordinates2').innerHTML = getCoordinates(); document.getElementById('coordinates3').innerHTML = getCoordinates(); document.getElementById('coordinates4').innerHTML = getCoordinates(); units(); redraw(); angles();" >Metric
              <br>
              &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
              <!--Tracing:&nbsp;&nbsp;-->
              <input type="checkbox" name="trace" style="display: none;"><!--Enable Robot Position Tracing!-->
              </div>
              <button id = "Add" class="link" onclick="show()" style="display: none;" >Click to Add Robot (Max 4) </button>
              <button id = "Remove" class="link" style="display: none;" onclick="hide()" >Click to Remove Robot </button>
              <div id="R1" style="display: ;">
                <b>Choose Robot 1</b>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="robot1" id="L1" onclick="toolbox(); loadImg(document.getElementById('1stLinkbot'))" checked>
                <img id= "1stLinkbot" width= "32" height= "32" src="./img/linkbot_alone_robot_1.png">
                <input type="radio" name="robot1" id="M1" onclick="toolbox(); loadImg(document.getElementById('1stMindstorm'))">
                <img id= "1stMindstorm" width="32" height= "32" src="./img/minds_alone_robot_1.png">
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b>Current Position: </b>
                <span id = "coordinates1">
                  <script>document.write(getCoordinates())</script>
                </span>
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Angle: </b>
                <span id = "displayAngle1">
                  <script>document.write(getAngle())</script>
                </span>
                <input style="display:none;" type="text" size ="1" id = "x1" value = "0" onchange="robotX = Number(document.getElementById('x1').value); document.getElementById('coordinates1').innerHTML = getCoordinates(); redraw();"></span>
                <span style="display:none;" id = "u1">in</span><input style="display:none;" type="text" size ="1" id = "y1" value = "0" onchange="robotY = Number(document.getElementById('y1').value); document.getElementById('coordinates1').innerHTML = getCoordinates(); redraw();"></span>
                <span style="display:none;" id = "u2">in</span><br>
                <input style="display:none;" type="text" size ="1" id = "a1" value = "0" onchange="displayAngle = Number(document.getElementById('a1').value); document.getElementById('displayAngle1').innerHTML = getAngle(); redraw();"></span>
              </div>
              <div id="R2" style="display: none;">
                <b>Choose Robot 2</b>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="robot2" id="L2" onclick="toolbox(); loadImg(document.getElementById('2ndLinkbot'))" >
                <img id= "2ndLinkbot" width= "32" height= "32" src="./img/linkbot_alone_robot_2.png">
                <input type="radio" name="robot2" id="M2" onclick="toolbox(); loadImg(document.getElementById('2ndMindstorm'))" >
                <img id= "2ndMindstorm" width="32" height= "32" src="./img/minds_alone_robot_2.png">
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b>Initial Position: </b>
                (<input type="text" size ="1" id = "x2" value = "0" onchange=""></span>
                <span id = "u3">in</span>,<input type="text" size ="1" id = "y2" value = "0" onchange=""></span>
                <span id = "u4">in</span>)<br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Initial Angle: </b>
                <input type="text" size ="1" id = "a2" value = "0" onchange=""></span>deg
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Position: </b>
                <span id = "coordinates2">
                  <script>document.write(getCoordinates())</script>
                </span>
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Angle: </b>
                <span id = "displayAngle2">
                  <script>document.write(getAngle())</script>
                </span>
              </div>
              <div id="R3" style="display: none;">
                <b>Choose Robot 3</b>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="robot3" id="L3" onclick="toolbox(); loadImg(document.getElementById('3rdLinkbot'))" >
                <img id= "3rdLinkbot" width= "32" height= "32" src="./img/linkbot_alone_robot_3.png">
                <input type="radio" name="robot3" id="M3" onclick="toolbox(); loadImg(document.getElementById('3rdMindstorm'))" >
                <img id= "3rdMindstorm" width="32" height= "32" src="./img/minds_alone_robot_3.png">
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b>Initial Position: </b>
                (<input type="text" size ="1" id = "x3" value = "0" onchange=""></span>
                <span id = "u5">in</span>,<input type="text" size ="1" id = "y3" value = "0" onchange=""></span>
                <span id = "u6">in</span>)<br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Initial Angle: </b>
                <input type="text" size ="1" id = "a3" value = "0" onchange=""></span>deg
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Position: </b>
                <span id = "coordinates3">
                  <script>document.write(getCoordinates())</script>
                </span>
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Angle: </b>
                <span id = "displayAngle3">
                  <script>document.write(getAngle())</script>
                </span>
              </div>
              <div id="R4" style="display: none;">
                <b>Choose Robot 4</b>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="robot4" id="L4" onclick="toolbox(); loadImg(document.getElementById('4thLinkbot'))" >
                <img id= "4thLinkbot" width= "32" height= "32" src="./img/linkbot_alone_robot_4.png">
                <input type="radio" name="robot4" id="M4" onclick="toolbox(); loadImg(document.getElementById('4thMindstorm'))" >
                <img id= "4thMindstorm" width="32" height= "32" src="./img/minds_alone_robot_4.png">
                &nbsp;&nbsp;&nbsp;&nbsp;
                <b>Initial Position: </b>
                (<input type="text" size ="1" id = "x4" value = "0" onchange=""></span>
                <span id = "u7">in</span>,<input type="text" size ="1" id = "y4" value = "0" onchange=""></span>
                <span id = "u8">in</span>)<br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Initial Angle: </b>
                <input type="text" size ="1" id = "a4" value = "0" onchange=""></span>deg
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Position: </b>
                <span id = "coordinates4">
                  <script>document.write(getCoordinates())</script>
                </span>
                <br>
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <b>Current Angle: </b>
                <span id = "displayAngle4">
                  <script>document.write(getAngle())</script>
                </span>
              </div>
              <p>
              <h3 style="PADDING-RIGHT: 4%; margin-top:-20px; display:inline;">
        <strong style="font-size:18px; font-family:tahoma;">
        Hello, I am Linkbot/Lego Mindstorm. Can you help me move forward 10 units?
        </strong>
        <br> <br>
        <button type="button" class="btn btn-primary" onclick="solution();">Possible Solution</button>
        <div id="solution" style="display: none; font-size:18px; font-family:tahoma;">
        <span class="com">#include</span><span class="pln"> </span><span class="str">&lt;linkbot.h&gt;</span><span class="pln"></span>
        <br>
        <span class="typ">CLinkbotI</span><span class="pln"> robot</span><span class="pun">;</span>
        <br><br>
        <span class="pln">robot</span><span class="pun">.</span><span class="pln">driveDistance</span><span class="pun">(</span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.75</span><span class="pun">);</span>
        </div>
      </h3>
      </p>
      

    </div>

    <div id = "workspace" style= " z-index: -1; position:absolute; width:100%; padding-left:610px; padding-right:40px;"class="col-md-6">
    <table width="100%" height="100%">
    
    <tr> 
      <td colspan=2>
        <table width="100%">
          <tr style="background-color:#335379; color:#FFF;" id="tabRow" height="1em">
            <td style="background-color:#335379; color:#FFF;" id="tab_blocks" class="tabon">Blocks</td>
            <td style="background-color:#FFF; color:#FFF;" class="tabmin">&nbsp;</td>
            <td style="background-color:#335379; color:#FFF;" id="tab_ch" class="taboff">Ch</td>
            <td style="background-color:#FFF; color:#FFF;" class="tabmin">&nbsp;</td>
            <td style="background-color:#335379; color:#FFF;" id="tab_cpp" class="taboff">C++</td>
            <td style="background-color:#335379;" class = "tabmax"></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td height="100%" colspan=2 id="content_area">
      </td>
    </tr>
  </table>
  <div id="content_blocks" class="content"></div>
  <pre id="content_ch" class="content"></pre>
  <pre id="content_cpp" class="content"></pre>
  <textarea id="content_xml" class="content" wrap="off"></textarea>
      <div id="blocklyDiv" style="height: 600px; width: 100%;"></div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      
  </div>
  <category id="Linkbot 1 in" name="Robot 1">
    <block type="linkbot_drive_distance_in"></block>
    <block type="linkbot_drive_angle"></block>
    <block type="linkbot_drive_time"></block>
    <!--<block type="linkbot_turn_in"></block>
    <block type="linkbot_reset"></block>
    <block type="linkbot_drive_distance_in_NB"></block>
    <block type="linkbot_drive_angle_NB"></block>
    <block type="linkbot_drive_time_NB"></block>
    <block type="linkbot_turn_in_NB"></block>
    <block type="linkbot_reset_NB"></block>
    <block type="linkbot_speed_in"></block>
    <block type="linkbot_move_wait"></block>
    <block type="linkbot_traceon"></block>
    <block type="linkbot_traceoff"></block>
    <block type="linkbot_delay"></block>
    <block type="linkbot_move_joints"></block>-->
  </category>
  <category id="Linkbot 2 in" name="Robot 2">
    <block type="linkbot2_drive_distance_in"></block>
    <block type="linkbot2_drive_angle"></block>
    <block type="linkbot2_drive_time"></block>
    <block type="linkbot2_turn_in"></block>
    <block type="linkbot2_reset"></block>
    <block type="linkbot2_drive_distance_in_NB"></block>
    <block type="linkbot2_drive_angle_NB"></block>
    <block type="linkbot2_drive_time_NB"></block>
    <block type="linkbot2_turn_in_NB"></block>
    <block type="linkbot2_reset_NB"></block>
    <block type="linkbot2_speed_in"></block>
    <block type="linkbot2_move_wait"></block>
    <block type="linkbot2_traceon"></block>
    <block type="linkbot2_traceoff"></block>
    <block type="linkbot2_delay"></block>
    <block type="linkbot2_move_joints"></block>
  </category>
  <category id="Linkbot 3 in" name="Robot 3">
    <block type="linkbot3_drive_distance_in"></block>
    <block type="linkbot3_drive_angle"></block>
    <block type="linkbot3_drive_time"></block>
    <block type="linkbot3_turn_in"></block>
    <block type="linkbot3_reset"></block>
    <block type="linkbot3_drive_distance_in_NB"></block>
    <block type="linkbot3_drive_angle_NB"></block>
    <block type="linkbot3_drive_time_NB"></block>
    <block type="linkbot3_turn_in_NB"></block>
    <block type="linkbot3_reset_NB"></block>
    <block type="linkbot3_speed_in"></block>
    <block type="linkbot3_move_wait"></block>
    <block type="linkbot3_traceon"></block>
    <block type="linkbot3_traceoff"></block>
    <block type="linkbot3_delay"></block>
    <block type="linkbot3_move_joints"></block>
  </category>
  <category id="Linkbot 4 in" name="Robot 4">
    <block type="linkbot4_drive_distance_in"></block>
    <block type="linkbot4_drive_angle"></block>
    <block type="linkbot4_drive_time"></block>
    <block type="linkbot4_turn_in"></block>
    <block type="linkbot4_reset"></block>
    <block type="linkbot4_drive_distance_in_NB"></block>
    <block type="linkbot4_drive_angle_NB"></block>
    <block type="linkbot4_drive_time_NB"></block>
    <block type="linkbot4_turn_in_NB"></block>
    <block type="linkbot4_reset_NB"></block>
    <block type="linkbot4_speed_in"></block>
    <block type="linkbot4_move_wait"></block>
    <block type="linkbot4_traceon"></block>
    <block type="linkbot4_traceoff"></block>
    <block type="linkbot4_delay"></block>
    <block type="linkbot4_move_joints"></block>
  </category>
  <category id="Mindstorms 1 in" name="Robot 1">
    <block type="mindstorms_drive_distance_in"></block>
    <block type="mindstorms_drive_angle"></block>
    <block type="mindstorms_drive_time"></block>
    <!--<block type="mindstorms_turn_in"></block>
    <block type="mindstorms_reset"></block>
    <block type="mindstorms_drive_distance_in_NB"></block>
    <block type="mindstorms_drive_angle_NB"></block>
    <block type="mindstorms_drive_time_NB"></block>
    <block type="mindstorms_turn_in_NB"></block>
    <block type="mindstorms_reset_NB"></block>
    <block type="mindstorms_speed_in"></block>
    <block type="mindstorms_move_wait"></block>
    <block type="mindstorms_traceon"></block>
    <block type="mindstorms_traceoff"></block>
    <block type="mindstorms_delay"></block>
    <block type="mindstorms_move_joints"></block>-->
  </category>
  <category id="Mindstorms 2 in" name="Robot 2">
    <block type="mindstorms2_drive_distance_in"></block>
    <block type="mindstorms2_drive_angle"></block>
    <block type="mindstorms2_drive_time"></block>
    <block type="mindstorms2_turn_in"></block>
    <block type="mindstorms2_reset"></block>
    <block type="mindstorms2_drive_distance_in_NB"></block>
    <block type="mindstorms2_drive_angle_NB"></block>
    <block type="mindstorms2_drive_time_NB"></block>
    <block type="mindstorms2_turn_in_NB"></block>
    <block type="mindstorms2_reset_NB"></block>
    <block type="mindstorms2_speed_in"></block>
    <block type="mindstorms2_move_wait"></block>
    <block type="mindstorms2_traceon"></block>
    <block type="mindstorms2_traceoff"></block>
    <block type="mindstorms2_delay"></block>
    <block type="mindstorms2_move_joints"></block>
  </category>
  <category id="Mindstorms 3 in" name="Robot 3">
    <block type="mindstorms3_drive_distance_in"></block>
    <block type="mindstorms3_drive_angle"></block>
    <block type="mindstorms3_drive_time"></block>
    <block type="mindstorms3_turn_in"></block>
    <block type="mindstorms3_reset"></block>
    <block type="mindstorms3_drive_distance_in_NB"></block>
    <block type="mindstorms3_drive_angle_NB"></block>
    <block type="mindstorms3_drive_time_NB"></block>
    <block type="mindstorms3_turn_in_NB"></block>
    <block type="mindstorms3_reset_NB"></block>
    <block type="mindstorms3_speed_in"></block>
    <block type="mindstorms3_move_wait"></block>
    <block type="mindstorms3_traceon"></block>
    <block type="mindstorms3_traceoff"></block>
    <block type="mindstorms3_delay"></block>
    <block type="mindstorms3_move_joints"></block>
  </category>
  <category id="Mindstorms 4 in" name="Robot 4">
    <block type="mindstorms4_drive_distance_in"></block>
    <block type="mindstorms4_drive_angle"></block>
    <block type="mindstorms4_drive_time"></block>
    <block type="mindstorms4_turn_in"></block>
    <block type="mindstorms4_reset"></block>
    <block type="mindstorms4_drive_distance_in_NB"></block>
    <block type="mindstorms4_drive_angle_NB"></block>
    <block type="mindstorms4_drive_time_NB"></block>
    <block type="mindstorms4_turn_in_NB"></block>
    <block type="mindstorms4_reset_NB"></block>
    <block type="mindstorms4_speed_in"></block>
    <block type="mindstorms4_move_wait"></block>
    <block type="mindstorms4_traceon"></block>
    <block type="mindstorms4_traceoff"></block>
    <block type="mindstorms4_delay"></block>
    <block type="mindstorms4_move_joints"></block>
  </category>
  <category id="Linkbot 1 cm" name="Robot 1">
    <block type="linkbot_drive_distance_cm"></block>
    <block type="linkbot_drive_angle"></block>
    <block type="linkbot_drive_time"></block>
    <!--<block type="linkbot_turn_cm"></block>
    <block type="linkbot_reset"></block>
    <block type="linkbot_drive_distance_cm_NB"></block>
    <block type="linkbot_drive_angle_NB"></block>
    <block type="linkbot_drive_time_NB"></block>
    <block type="linkbot_turn_cm_NB"></block>
    <block type="linkbot_reset_NB"></block>
    <block type="linkbot_speed_cm"></block>
    <block type="linkbot_move_wait"></block>
    <block type="linkbot_traceon"></block>
    <block type="linkbot_traceoff"></block>
    <block type="linkbot_delay"></block>
    <block type="linkbot_move_joints"></block>-->
  </category>
  <category id="Linkbot 2 cm" name="Robot 2">
    <block type="linkbot2_drive_distance_cm"></block>
    <block type="linkbot2_drive_angle"></block>
    <block type="linkbot2_drive_time"></block>
    <block type="linkbot2_turn_cm"></block>
    <block type="linkbot2_reset"></block>
    <block type="linkbot2_drive_distance_cm_NB"></block>
    <block type="linkbot2_drive_angle_NB"></block>
    <block type="linkbot2_drive_time_NB"></block>
    <block type="linkbot2_turn_cm_NB"></block>
    <block type="linkbot2_reset_NB"></block>
    <block type="linkbot2_speed_cm"></block>
    <block type="linkbot2_move_wait"></block>
    <block type="linkbot2_traceon"></block>
    <block type="linkbot2_traceoff"></block>
    <block type="linkbot2_delay"></block>
    <block type="linkbot2_move_joints"></block>
  </category>
  <category id="Linkbot 3 cm" name="Robot 3">
    <block type="linkbot3_drive_distance_cm"></block>
    <block type="linkbot3_drive_angle"></block>
    <block type="linkbot3_drive_time"></block>
    <block type="linkbot3_turn_cm"></block>
    <block type="linkbot3_reset"></block>
    <block type="linkbot3_drive_distance_cm_NB"></block>
    <block type="linkbot3_drive_angle_NB"></block>
    <block type="linkbot3_drive_time_NB"></block>
    <block type="linkbot3_turn_cm_NB"></block>
    <block type="linkbot3_reset_NB"></block>
    <block type="linkbot3_speed_cm"></block>
    <block type="linkbot3_move_wait"></block>
    <block type="linkbot3_traceon"></block>
    <block type="linkbot3_traceoff"></block>
    <block type="linkbot3_delay"></block>
    <block type="linkbot3_move_joints"></block>
  </category>
  <category id="Linkbot 4 cm" name="Robot 4">
    <block type="linkbot4_drive_distance_cm"></block>
    <block type="linkbot4_drive_angle"></block>
    <block type="linkbot4_drive_time"></block>
    <block type="linkbot4_turn_cm"></block>
    <block type="linkbot4_reset"></block>
    <block type="linkbot4_drive_distance_cm_NB"></block>
    <block type="linkbot4_drive_angle_NB"></block>
    <block type="linkbot4_drive_time_NB"></block>
    <block type="linkbot4_turn_cm_NB"></block>
    <block type="linkbot4_reset_NB"></block>
    <block type="linkbot4_speed_cm"></block>
    <block type="linkbot4_move_wait"></block>
    <block type="linkbot4_traceon"></block>
    <block type="linkbot4_traceoff"></block>
    <block type="linkbot4_delay"></block>
    <block type="linkbot4_move_joints"></block>
  </category>
  <category id="Mindstorms 1 cm" name="Robot 1">
    <block type="mindstorms_drive_distance_cm"></block>
    <block type="mindstorms_drive_angle"></block>
    <block type="mindstorms_drive_time"></block>
    <!--<block type="mindstorms_turn_cm"></block>
    <block type="mindstorms_reset"></block>
    <block type="mindstorms_drive_distance_cm_NB"></block>
    <block type="mindstorms_drive_angle_NB"></block>
    <block type="mindstorms_drive_time_NB"></block>
    <block type="mindstorms_turn_cm_NB"></block>
    <block type="mindstorms_reset_NB"></block>
    <block type="mindstorms_speed_cm"></block>
    <block type="mindstorms_move_wait"></block>
    <block type="mindstorms_traceon"></block>
    <block type="mindstorms_traceoff"></block>
    <block type="mindstorms_delay"></block>
    <block type="mindstorms_move_joints"></block>-->
  </category>
  <category id="Mindstorms 2 cm" name="Robot 2">
    <block type="mindstorms2_drive_distance_cm"></block>
    <block type="mindstorms2_drive_angle"></block>
    <block type="mindstorms2_drive_time"></block>
    <block type="mindstorms2_turn_cm"></block>
    <block type="mindstorms2_reset"></block>
    <block type="mindstorms2_drive_distance_cm_NB"></block>
    <block type="mindstorms2_drive_angle_NB"></block>
    <block type="mindstorms2_drive_time_NB"></block>
    <block type="mindstorms2_turn_cm_NB"></block>
    <block type="mindstorms2_reset_NB"></block>
    <block type="mindstorms2_speed_cm"></block>
    <block type="mindstorms2_move_wait"></block>
    <block type="mindstorms2_traceon"></block>
    <block type="mindstorms2_traceoff"></block>
    <block type="mindstorms2_delay"></block>
    <block type="mindstorms2_move_joints"></block>
  </category>
  <category id="Mindstorms 3 cm" name="Robot 3">
    <block type="mindstorms3_drive_distance_cm"></block>
    <block type="mindstorms3_drive_angle"></block>
    <block type="mindstorms3_drive_time"></block>
    <block type="mindstorms3_turn_cm"></block>
    <block type="mindstorms3_reset"></block>
    <block type="mindstorms3_drive_distance_cm_NB"></block>
    <block type="mindstorms3_drive_angle_NB"></block>
    <block type="mindstorms3_drive_time_NB"></block>
    <block type="mindstorms3_turn_cm_NB"></block>
    <block type="mindstorms3_reset_NB"></block>
    <block type="mindstorms3_speed_cm"></block>
    <block type="mindstorms3_move_wait"></block>
    <block type="mindstorms3_traceon"></block>
    <block type="mindstorms3_traceoff"></block>
    <block type="mindstorms3_delay"></block>
    <block type="mindstorms3_move_joints"></block>
  </category>
  <category id="Mindstorms 4 cm" name="Robot 4">
    <block type="mindstorms4_drive_distance_cm"></block>
    <block type="mindstorms4_drive_angle"></block>
    <block type="mindstorms4_drive_time"></block>
    <block type="mindstorms4_turn_cm"></block>
    <block type="mindstorms4_reset"></block>
    <block type="mindstorms4_drive_distance_cm_NB"></block>
    <block type="mindstorms4_drive_angle_NB"></block>
    <block type="mindstorms4_drive_time_NB"></block>
    <block type="mindstorms4_turn_cm_NB"></block>
    <block type="mindstorms4_reset_NB"></block>
    <block type="mindstorms4_speed_cm"></block>
    <block type="mindstorms4_move_wait"></block>
    <block type="mindstorms4_traceon"></block>
    <block type="mindstorms4_traceoff"></block>
    <block type="mindstorms4_delay"></block>
    <block type="mindstorms4_move_joints"></block>
  </category>
  
  <xml id="toolbox" style="display: none">
  </xml>

<div align="center" id="footer-info" style="background-color:#FFF; color:#000;">

        <!--footer container--><div class="row">

   
<div class="col-md-6">     




</div>

<div id="roboyes" style = "position: absolute; z-index: -1">

</div>

                   
      
      <div id="copyright" allign="center" style="position: absolute; font-size:13px; margin-top: 120px; width:100%">
      <div>
      <br>Copyright Â© 2015 UC Davis C-STEM Center | <a href="/contact-us/" style="color:#002666;">Contact Us</a> | <a href="http://ucdavis.edu/help/privacy-accessibility.html" style="color:#002666;">Privacy Policy</a>
        <br>
        <a href="http://www.facebook.com/UCDCSTEM" rel="nofollow" target="_blank"><img width="32" height="32" src="http://engineering.ucdavis.edu/wp-content/plugins/social-media-widget/images/default/32/facebook.png" alt="facebook" title="Follow Us on Facebook" style="opacity: 0.8; -moz-opacity: 0.8;" class="fade"></a>

<a href="http://www.twitter.com/cstematucd" rel="nofollow" target="_blank"><img width="32" height="32" src="http://engineering.ucdavis.edu/wp-content/plugins/social-media-widget/images/default/32/twitter.png" alt="twitter" title="Follow Us on Twitter" style="opacity: 0.8; -moz-opacity: 0.8;" class="fade"></a>

<a href="https://secure.flickr.com/photos/c-stem/sets/" rel="nofollow" target="_blank"><img width="32" height="32" src="http://engineering.ucdavis.edu/wp-content/plugins/social-media-widget/images/default/32/flickr.png" alt="flicker" title="Follow Us on Flickr" style="opacity: 0.8; -moz-opacity: 0.8;" class="fade"></a>

<a href="https://www.youtube.com/user/UCDavisIEL" rel="nofollow" target="_blank"><img width="32" height="32" src="http://engineering.ucdavis.edu/wp-content/plugins/social-media-widget/images/default/32/youtube.png" alt="youtube" title="Follow Us on YouTube" style="opacity: 0.8; -moz-opacity: 0.8;" class="fade"></a>
      </div>
    </div>

         
      </div>    
      </div><!--footer info end-->
  
  <script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/superfish.js?ver=1.0"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/jquery.custom.js?ver=1.0"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/jquery.fitvids.js?ver=1.0"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/jquery.flexslider.js?ver=2.1"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/selectnav.js?ver=0.1"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/responsive-scripts.js?ver=1.2.1"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/themes/CSTEM/js/cf7js.js?ver=1.2.1"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/plugins/bbpress/templates/default/js/editor.js?ver=2.5.3-5249"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.48.0-2013.12.28"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/c-stem.ucdavis.edu\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]> */
</script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=3.7"></script>
<script type="text/javascript">
/* <![CDATA[ */
var thickboxL10n = {"next":"Next >","prev":"< Prev","image":"Image","of":"of","close":"Close","noiframes":"This feature requires inline frames. You have iframes disabled or your browser does not support them.","loadingAnimation":"http:\/\/c-stem.ucdavis.edu\/wp-includes\/js\/thickbox\/loadingAnimation.gif"};
/* ]]> */
</script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-includes/js/thickbox/thickbox.js?ver=3.1-20121105"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-includes/js/jquery/ui/core.min.js?ver=1.11.2"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-includes/js/jquery/ui/widget.min.js?ver=1.11.2"></script>
<script type="text/javascript" src="http://c-stem.ucdavis.edu/wp-includes/js/jquery/ui/tabs.min.js?ver=1.11.2"></script>
<script type="text/javascript">
/* <![CDATA[ */
jQuery(document).ready( function($) {
  $("ul.menu").not(":has(li)").closest('div').prev('h3.widget-title').hide();
});
/* ]]> */
</script>
<!-- Start Of Script Generated By cforms v14.6 [Oliver Seidel | www.deliciousdays.com] -->
<!-- End Of Script Generated By cforms -->




</div>
  <script type="text/javascript">


  var imgChk = "linkbot";
  



  function loadImg(x) {
    
    if(x.id == "1stLinkbot" || x.id == "1stMindstorm")
    {
      $("#home").css({'width': 0});
      $("#home").css({'height': 0});
      $("#home").css({'background': 'none'});
    }
    else if(x.id == "2ndLinkbot" || x.id == "2ndMindstorm")
    {
      $("#home2").css({'width': 0});
      $("#home2").css({'height': 0});
      $("#home2").css({'background': 'none'});
    }
    else if(x.id == "3rdLinkbot" || x.id == "3rdMindstorm")
    {
      $("#home3").css({'width': 0});
      $("#home3").css({'height': 0});
      $("#home3").css({'background': 'none'});
    }
    else if(x.id == "4thLinkbot" || x.id == "4thMindstorm")
    {
      $("#home4").css({'width': 0});
      $("#home4").css({'height': 0});
      $("#home4").css({'background': 'none'});
    }


    setTimeout(function(){
                  
                  if(x.id == "1stLinkbot") //linkbot
                  {
                    imgChk = "linkbot";
                    document.getElementById("home").style.height = "160px";
                    document.getElementById("home").style.width = "160px";
                    $("#home").css({'background': 'url(./img/linkbot_spritesheet_robot_1.png) 0 0'});
                    $("#home").css({'margin-left': 80 + 'px'});
                    $("#home").css({'margin-top': 255 + 'px'});
                    document.getElementById("home").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "1stMindstorm")
                  { //mindstorms
                    imgChk = "mindstorms";
                    document.getElementById("home").style.height = "160px";
                    document.getElementById("home").style.width = "160px";
                    $("#home").css({'background': 'url(./img/mindstorms_spritesheet_robot_1.png) 0 0'});
                    $("#home").css({'margin-left': 80 + 'px'});
                    $("#home").css({'margin-top': 255 + 'px'});
                    document.getElementById("home").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "2ndLinkbot")
                  {
                    imgChk = "linkbot2"
                    document.getElementById("home2").style.height = "200px";
                    document.getElementById("home2").style.width = "200px";
                    $("#home2").css({'background': 'url(./img/linkbot_spritesheet_robot_2.png) 0 0'});
                    $("#home2").css({'margin-left': 80 + 'px'});
                    $("#home2").css({'margin-top': 75 + 'px'});
                    document.getElementById("home2").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "2ndMindstorm")
                  { //mindstorms
                    imgChk = "mindstorms2";
                    document.getElementById("home2").style.height = "200px";
                    document.getElementById("home2").style.width = "200px";
                    $("#home2").css({'background': 'url(./img/mindstorms_spritesheet_robot_2.png) 0 0'});
                    $("#home2").css({'margin-left': 80 + 'px'});
                    $("#home2").css({'margin-top': 75 + 'px'});
                    document.getElementById("home2").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "3rdLinkbot")
                  {
                    imgChk = "linkbot3"
                    document.getElementById("home3").style.height = "200px";
                    document.getElementById("home3").style.width = "200px";
                    $("#home3").css({'background': 'url(./img/linkbot_spritesheet_robot_3.png) 0 0'});
                    $("#home3").css({'margin-left': 260 + 'px'});
                    $("#home3").css({'margin-top': 75 + 'px'});
                    document.getElementById("home3").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "3rdMindstorm")
                  { //mindstorms
                    imgChk = "mindstorms3";
                    document.getElementById("home3").style.height = "200px";
                    document.getElementById("home3").style.width = "200px";
                    $("#home3").css({'background': 'url(./img/mindstorms_spritesheet_robot_3.png) 0 0'});
                    $("#home3").css({'margin-left': 260 + 'px'});
                    $("#home3").css({'margin-top': 75 + 'px'});
                    document.getElementById("home3").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "4thLinkbot")
                  {
                    imgChk = "linkbot4"
                    document.getElementById("home4").style.height = "200px";
                    document.getElementById("home4").style.width = "200px";
                    $("#home4").css({'background': 'url(./img/linkbot_spritesheet_robot_4.png) 0 0'});
                    $("#home4").css({'margin-left': 260 + 'px'});
                    $("#home4").css({'margin-top': 255 + 'px'});
                    document.getElementById("home4").src = "./img/largeTransparent.gif";
                  }
                  else if(x.id == "4thMindstorm")
                  { //mindstorms
                    imgChk = "mindstorms4";
                    document.getElementById("home4").style.height = "200px";
                    document.getElementById("home4").style.width = "200px";
                    $("#home4").css({'background': 'url(./img/mindstorms_spritesheet_robot_4.png) 0 0'});
                    $("#home4").css({'margin-left': 260 + 'px'});
                    $("#home4").css({'margin-top': 255 + 'px'});
                    document.getElementById("home4").src = "./img/largeTransparent.gif";
                  }


              }, 50);
    
  }
  
  
  var lclone1in = document.getElementById('Linkbot 1 in').cloneNode(true);
  var mclone1in = document.getElementById('Mindstorms 1 in').cloneNode(true);
  var lclone2in = document.getElementById('Linkbot 2 in').cloneNode(true);
  var mclone2in = document.getElementById('Mindstorms 2 in').cloneNode(true);
  var lclone3in = document.getElementById('Linkbot 3 in').cloneNode(true);
  var mclone3in = document.getElementById('Mindstorms 3 in').cloneNode(true);
  var lclone4in = document.getElementById('Linkbot 4 in').cloneNode(true);
  var mclone4in = document.getElementById('Mindstorms 4 in').cloneNode(true);
  var lclone1cm = document.getElementById('Linkbot 1 cm').cloneNode(true);
  var mclone1cm = document.getElementById('Mindstorms 1 cm').cloneNode(true);
  var lclone2cm = document.getElementById('Linkbot 2 cm').cloneNode(true);
  var mclone2cm = document.getElementById('Mindstorms 2 cm').cloneNode(true);
  var lclone3cm = document.getElementById('Linkbot 3 cm').cloneNode(true);
  var mclone3cm = document.getElementById('Mindstorms 3 cm').cloneNode(true);
  var lclone4cm = document.getElementById('Linkbot 4 cm').cloneNode(true);
  var mclone4cm = document.getElementById('Mindstorms 4 cm').cloneNode(true);
  
  function toolbox() {
    document.getElementById('blocklyDiv').innerHTML = '';

    if(document.getElementById('toolbox').contains(lclone1in))
      document.getElementById('toolbox').removeChild(lclone1in);
    if(document.getElementById('toolbox').contains(mclone1in))
      document.getElementById('toolbox').removeChild(mclone1in);
    if(document.getElementById('toolbox').contains(lclone1cm))
      document.getElementById('toolbox').removeChild(lclone1cm);
    if(document.getElementById('toolbox').contains(mclone1cm))
      document.getElementById('toolbox').removeChild(mclone1cm);
    if(document.getElementById('toolbox').contains(lclone2in))
      document.getElementById('toolbox').removeChild(lclone2in);
    if(document.getElementById('toolbox').contains(mclone2in))
      document.getElementById('toolbox').removeChild(mclone2in);
    if(document.getElementById('toolbox').contains(lclone2cm))
      document.getElementById('toolbox').removeChild(lclone2cm);
    if(document.getElementById('toolbox').contains(mclone2cm))
      document.getElementById('toolbox').removeChild(mclone2cm);
    if(document.getElementById('toolbox').contains(lclone3in))
      document.getElementById('toolbox').removeChild(lclone3in);
    if(document.getElementById('toolbox').contains(mclone3in))
      document.getElementById('toolbox').removeChild(mclone3in);
    if(document.getElementById('toolbox').contains(lclone3cm))
      document.getElementById('toolbox').removeChild(lclone3cm);
    if(document.getElementById('toolbox').contains(mclone3cm))
      document.getElementById('toolbox').removeChild(mclone3cm);
    if(document.getElementById('toolbox').contains(lclone4in))
      document.getElementById('toolbox').removeChild(lclone4in);
    if(document.getElementById('toolbox').contains(mclone4in))
      document.getElementById('toolbox').removeChild(mclone4in);
    if(document.getElementById('toolbox').contains(lclone4cm))
      document.getElementById('toolbox').removeChild(lclone4cm);
    if(document.getElementById('toolbox').contains(mclone4cm))
      document.getElementById('toolbox').removeChild(mclone4cm);

    if(document.getElementById('US Customary').checked)
    {      
      if(document.getElementById('L1').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone1in, document.getElementById('toolbox').childNodes[1]);
      }
      else if(document.getElementById('M1').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone1in, document.getElementById('toolbox').childNodes[1]);
      }
      if(document.getElementById('L2').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone2in, document.getElementById('toolbox').childNodes[2]);
      }
      else if(document.getElementById('M2').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone2in, document.getElementById('toolbox').childNodes[2]);
      }
      if(document.getElementById('L3').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone3in, document.getElementById('toolbox').childNodes[3]);
      }
      else if(document.getElementById('M3').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone3in, document.getElementById('toolbox').childNodes[3]);
      }
      if(document.getElementById('L4').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone4in, document.getElementById('toolbox').childNodes[4]);
      }
      else if(document.getElementById('M4').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone4in, document.getElementById('toolbox').childNodes[4]);
      }
      
      Blockly.inject(document.getElementById('blocklyDiv'),
        {toolbox: document.getElementById('toolbox')});
    }
    else
    {
      if(document.getElementById('L1').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone1cm, document.getElementById('toolbox').childNodes[1]);
      }
      else if(document.getElementById('M1').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone1cm, document.getElementById('toolbox').childNodes[1]);
      }
      if(document.getElementById('L2').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone2cm, document.getElementById('toolbox').childNodes[2]);
      }
      else if(document.getElementById('M2').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone2cm, document.getElementById('toolbox').childNodes[2]);
      }
      if(document.getElementById('L3').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone3cm, document.getElementById('toolbox').childNodes[3]);
      }
      else if(document.getElementById('M3').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone3cm, document.getElementById('toolbox').childNodes[3]);
      }
      if(document.getElementById('L4').checked)
      {
        document.getElementById('toolbox').insertBefore(lclone4cm, document.getElementById('toolbox').childNodes[4]);
      }
      else if(document.getElementById('M4').checked)
      {
        document.getElementById('toolbox').insertBefore(mclone4cm, document.getElementById('toolbox').childNodes[4]);
      }
      
      Blockly.inject(document.getElementById('blocklyDiv'),
        {toolbox: document.getElementById('toolbox')});
    }
    if(document.getElementById('US Customary').checked){
      // edit the grid size
      elem = sv.getElementById("smallGrid");
      elem.setAttribute("width", "15");
      elem.setAttribute("height", "15");
      elem = sv.getElementById("smallGrid2");
      elem.setAttribute("d", "M 15 0 L 0 0 0 15");
      document.getElementById("plus-y2").innerHTML= '24';
      document.getElementById("plus-y").innerHTML= '12';
      document.getElementById("minus-y").innerHTML= '-12';
      document.getElementById("plus-x").innerHTML= '12';
      document.getElementById("plus-x2").innerHTML= '24';
      document.getElementById("minus-x").innerHTML= '-12';
      document.getElementById("origin").innerHTML= '0';
    }
    else{
      elem = sv.getElementById("smallGrid");
      elem.setAttribute("width", "18");
      elem.setAttribute("height", "18");
      elem = sv.getElementById("smallGrid2");
      elem.setAttribute("d", "M 18 0 L 0 0 0 18");
      document.getElementById("plus-y").innerHTML= '10';
      document.getElementById("plus-y2").innerHTML= '20';
      document.getElementById("minus-y").innerHTML= '-10';
      document.getElementById("plus-x").innerHTML= '10';
      document.getElementById("plus-x2").innerHTML= '20';
      document.getElementById("minus-x").innerHTML= '-10';
      document.getElementById("origin").innerHTML= '0';
    }
  }
  
  function show() {
    if(document.getElementById('R2').style.display == 'none')
    {
      document.getElementById('R2').style.display = '';
      document.getElementById('Remove').style.display = '';
      document.getElementById('L2').checked = true;
      document.getElementById('home2').style.visibility = 'visible';
    }
    else if(document.getElementById('R3').style.display == 'none')
    {
      document.getElementById('R3').style.display = '';
      document.getElementById('L3').checked = true;
      document.getElementById('home3').style.visibility = 'visible';
    }
    else if(document.getElementById('R4').style.display == 'none')
    {
      document.getElementById('R4').style.display = '';
      document.getElementById('Add').style.display = 'none';
      document.getElementById('L4').checked = true;
      document.getElementById('home4').style.visibility = 'visible';
    }
    toolbox();
  }
  
  function hide() {
    if(document.getElementById('R4').style.display == '')
    {
      document.getElementById('R4').style.display = 'none';
      document.getElementById('Add').style.display = '';
      document.getElementById('L4').checked = false;
      document.getElementById('M4').checked = false;
      document.getElementById('home4').style.visibility = 'hidden';
    }    
    else if(document.getElementById('R3').style.display == '')
    {
      document.getElementById('R3').style.display = 'none';
      document.getElementById('L3').checked = false;
      document.getElementById('M3').checked = false;
      document.getElementById('home3').style.visibility = 'hidden';
    }
    else if(document.getElementById('R2').style.display == '')
    {
      document.getElementById('R2').style.display = 'none';
      document.getElementById('Remove').style.display = 'none'; 
      document.getElementById('L2').checked = false;
      document.getElementById('M2').checked = false;
      document.getElementById('home2').style.visibility = 'hidden';
    }
    toolbox();
  }
    
  function solution()
  {
    if(document.getElementById('solution').style.display == '')
      document.getElementById('solution').style.display = 'none';
    else
      document.getElementById('solution').style.display = '';
  }
  
    function select_lessons()
  {
    document.getElementById('v1').style.display = 'none';
    document.getElementById('v2').style.display = 'none';
    document.getElementById('v3').style.display = 'none';
    document.getElementById('v4').style.display = 'none';
    document.getElementById('v5').style.display = 'none';
    document.getElementById('c1').style.display = 'none';
    document.getElementById('c2').style.display = 'none';
    document.getElementById('c3').style.display = 'none';
    document.getElementById('c4').style.display = 'none';
    document.getElementById('c5').style.display = 'none';
    document.getElementById('c6').style.display = 'none';
    document.getElementById('c7').style.display = 'none';
    document.getElementById('c8').style.display = 'none';
    document.getElementById('c9').style.display = 'none';
    document.getElementById('c10').style.display = 'none';
    document.getElementById('m1').style.display = 'none';
    document.getElementById('m2').style.display = 'none';
    document.getElementById('m3').style.display = 'none';
    document.getElementById('m4').style.display = 'none';
    document.getElementById('m5').style.display = 'none';
    document.getElementById('m6').style.display = 'none';
    document.getElementById('m7').style.display = 'none';
    document.getElementById('m8').style.display = 'none';
    document.getElementById('m9').style.display = 'none';
    document.getElementById('m10').style.display = 'none';
    document.getElementById('p1').style.display = 'none';
    if(document.getElementById('select1').selected)
    {
      document.getElementById('v1').style.display = '';
      document.getElementById('v2').style.display = '';
      document.getElementById('v3').style.display = '';
      document.getElementById('v4').style.display = '';
      document.getElementById('v5').style.display = '';
      
    }
    else if(document.getElementById('select2').selected)
    {
      document.getElementById('c1').style.display = '';
      document.getElementById('c2').style.display = '';
      document.getElementById('c3').style.display = '';
      document.getElementById('c4').style.display = '';
      document.getElementById('c5').style.display = '';
      document.getElementById('c6').style.display = '';
      document.getElementById('c7').style.display = '';
      document.getElementById('c8').style.display = '';
      document.getElementById('c9').style.display = '';
      document.getElementById('c10').style.display = '';
    }
    else if(document.getElementById('select3').selected)
    {
      document.getElementById('m1').style.display = '';
      document.getElementById('m2').style.display = '';
      document.getElementById('m3').style.display = '';
      document.getElementById('m4').style.display = '';
      document.getElementById('m5').style.display = '';
      document.getElementById('m6').style.display = '';
      document.getElementById('m7').style.display = '';
      document.getElementById('m8').style.display = '';
      document.getElementById('m9').style.display = '';
      document.getElementById('m10').style.display = '';
    }
    else
    {
      document.getElementById('p1').style.display = '';
    }
  }
  
  function units()
  {
    if(document.getElementById('US Customary').checked)
    {
      document.getElementById('u1').innerHTML = 'in';
      document.getElementById('u2').innerHTML = 'in';
      document.getElementById('u3').innerHTML = 'in';
      document.getElementById('u4').innerHTML = 'in';
      document.getElementById('u5').innerHTML = 'in';
      document.getElementById('u6').innerHTML = 'in';
      document.getElementById('u7').innerHTML = 'in';
      document.getElementById('u8').innerHTML = 'in';
    }
    else
    {    
      document.getElementById('u1').innerHTML = 'cm';
      document.getElementById('u2').innerHTML = 'cm';
      document.getElementById('u3').innerHTML = 'cm';
      document.getElementById('u4').innerHTML = 'cm';
      document.getElementById('u5').innerHTML = 'cm';
      document.getElementById('u6').innerHTML = 'cm';
      document.getElementById('u7').innerHTML = 'cm';
      document.getElementById('u8').innerHTML = 'cm';
    }
  }

  function redraw()
  {
    $('#roboyes').css({'margin-left': 0 +'px'});
    $('#roboyes').css({'margin-top': 0 + 'px'});
    //$('#home').css({'position' : 'absolute'});
    if(document.getElementById('US Customary').checked)
    {
      $('#horizTranslate').css({'margin-left': Number(document.getElementById('x1').value)*15 +'px'});
      $('#horizTranslate').css({'margin-top': Number(document.getElementById('y1').value)*-15 + 'px'});
    }
    else
    {
      $('#horizTranslate').css({'margin-left': Number(document.getElementById('x1').value)*18 +'px'});
      $('#horizTranslate').css({'margin-top': Number(document.getElementById('y1').value)*-18 + 'px'});
    }
    $('#home').css({'margin-left': 80 +'px'});
    $('#home').css({'margin-top': 255 + 'px'});

    $('#horizTranslate').css({'-webkit-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-moz-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-ms-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-o-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'transition': 0.5+'s linear'});

    var blockDirection = 'turnLeft';
    var newangle = Number(document.getElementById('a1').value);
    var leftMargin = 0;
    var topMargin = 0;
    //determine time needed for each image turn interval
    var intervalTime = 500/(newangle/5);
    //determine number of images to cycle through on spritesheet
    var numImages = Math.floor(newangle/5);
    setTimeout(function(){linkbotTurn(leftMargin, topMargin, newangle, numImages, intervalTime, blockDirection)}, intervalTime);
  }
  </script>

  <script type="text/javascript">
  
      var boxOne = document.getElementsByClassName('box')[0],
    $boxTwo = $('.box:eq(1)');
    boxOne.classList.add('horizTranslate');
    boxOne.id = 'horizTranslate';
console.log(document.getElementsByClassName('toggleButton')[0].value )

//declaration of global variables
var round = Math.round;
var speeed = 4;
var speeed2 = 4;
var speeed3 = 4;
var speeed4 = 4;
var first =0;
var angle = 0;
var newangle = 0;
var x = 0;
var y = 0;
var mathNumCheck = 0;


//function to handle while loop blocks
function whileRecurse(math_number, children, num, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, whileTime)
{
  console.log("IS CHILDBLOCKS DEFINED BLAAAAT?: " + children);
  console.log("WHAT IS ROBOTIME BLAAT? " + robotime)
  //base case/last iteration
  if(math_number == 0)
    return;

  //first iteration
  else if(math_number == mathNumCheck)
  {
    //does either drive or turn move based on childBlock
    move(i,robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 1);

      //recursive call
      whileRecurse(math_number-1, children, num, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, whileTime);
  }

  //default case/all middle iterations
  else
  {
    //we set timeout to avoid overlapping animations
    setTimeout(function(){
      console.log("IS CHILDBLOCKS DEFINED: " + children);

      move(i,robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 1);


      whileRecurse(math_number-1, children, num, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, whileTime);
      }, whileTime);
    
  }
}


//function happens when user clicks Run button
document.getElementsByClassName('toggleButton')[0].onclick = function() {
  if(document.getElementById('US Customary').checked)
  {
    if(document.getElementById('L1').checked)
      robot_r = 1.75;
    else
      robot_r = 1.10;
    if(document.getElementById('L2').checked)
      robotTwo_r = 1.75;
    else
      robotTwo_r = 1.10;
    if(document.getElementById('L3').checked)
      robotThree_r = 1.75;
    else
      robotThree_r = 1.10;
    if(document.getElementById('L4').checked)
      robotFour_r = 1.75;
    else
      robotFour_r = 1.10;
  }
  else{
    if(document.getElementById('L1').checked)
      robot_r = 4.45;
    else
      robot_r = 2.79;
    if(document.getElementById('L2').checked)
      robotTwo_r = 4.45;
    else
      robotTwo_r = 2.79;
    if(document.getElementById('L3').checked)
      robotThree_r = 4.45;
    else
      robotThree_r = 2.79;
    if(document.getElementById('L4').checked)
      robotFour_r = 4.45;
    else
      robotFour_r = 2.79;
  }

  if( document.getElementsByClassName('toggleButton')[0].value === 'play') 
  {
    document.getElementsByClassName('toggleButton')[0].value = 'reset';
    document.getElementsByClassName('toggleButton')[0].innerHTML = 'Reset';

    //declaration of local variables
    var robotime = 0;
    var rootBlock = null;
    var driveBlock = null;
    var angleBlock = null;
    var whileBlock = null;
    var x = 0;
    var y = 0;
    var a = 0;
    var b = 0;
    var angle = displayAngle*Math.PI/180;
    var oldangle = 0;
    var newangle = 0;
    var direction = 0;
    var dis2 = 0;
    var dis = 0;
    var blockDirection;

    //this gets blocks from workspace and puts them into blocks array
    var blocks = Blockly.mainWorkspace.getTopBlocks(false);
    var childBlocks = null;

    //root/top block put into rootBlock
    rootBlock = blocks[0];
    

    //check if rootBlock is while loop block
    if(rootBlock.type == 'controls_repeat_ext')
    {
      whileBlock = rootBlock;
      childBlocks = whileBlock.getChildren();
      //get loop counter/number of iterations and store in math_number
      if(childBlocks[0].type == 'math_number')
      {
        var math_number = childBlocks[0].getFieldValue('NUM');
      }

      //loop checks all other blocks inside while block to determine total setTimeout for loop
      var childBlockCheck = childBlocks;
      var loopTIME = 0;
      var cbIndex = 1;
      while(childBlockCheck[cbIndex])
      {
        if(childBlockCheck[cbIndex].type == 'linkbot_drive_distance_in' || childBlockCheck[cbIndex].type == 'linkbot_drive_distance_cm' || childBlockCheck[cbIndex].type == 'mindstorms_drive_distance_in' || childBlockCheck[cbIndex].type == 'mindstorms_drive_distance_cm')
        {

          loopTIME += (childBlockCheck[cbIndex].getFieldValue('distance') / speeed)*1000;
        }
            
        else{
          loopTIME += 600;
        }
        
        childBlockCheck = childBlockCheck[cbIndex].getChildren();
        cbIndex = 0;
      }
       
      //if no other blocks underneath while loop
      if(childBlocks.length == 2){
        mathNumCheck = math_number;
        whileRecurse(math_number, childBlocks, 1, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, loopTIME)
      }

      //if more blocks underneath while loop
      else if(childBlocks.length > 2){
            mathNumCheck = math_number;
            whileRecurse(math_number, childBlocks, 1, i, robotime, driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, loopTIME)

            setTimeout(function(){move(0, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 2)}, loopTIME * math_number + 200);
      }

    }
    
    if(rootBlock.type == 'linkbot_drive_angle' || rootBlock.type == 'mindstorms_drive_angle')
    {
        driveBlock = rootBlock;
        
        if(document.getElementById('US Customary').checked) //inches
        {
          //get distance from block
          dis = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*15 / 360;
          //calculate time needed to move robot
          robotime = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle') / (360 * speeed);
          //coordinates for robot 
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/15;
          robotY += y/15;
        }
        else //metric
        {
          dis = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*18 / 360;
          //calculate time needed to move robot
          robotime = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle') / (360 * speeed);
          //coordinates for robot 
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/18;
          robotY += y/18;
        }
        if(robotime < 0)
        {
          robotime *= -1;
        }
        //STOPS ROBOT FROM GOING OFF GRID ###############
        if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

          // alert that tells the user to reset

          alert("Keep the robot on the grid! \nPlease reset and try again.");
          return;
        }

        
        console.log('dis x' + x)
        //call drive animation function
        drive(x,y,robotime);
        //display coordinates on screen
        document.getElementById('coordinates1').innerHTML = getCoordinates();
    }
    
    if(rootBlock.type == 'linkbot_drive_time' || rootBlock.type == 'mindstorms_drive_time')
    {
        driveBlock = rootBlock;
        
        if(document.getElementById('US Customary').checked) //inches
        {
          //get distance from block
          dis = speeed * driveBlock.getFieldValue('time')*15;
          //calculate time needed to move robot
          robotime = speeed * driveBlock.getFieldValue('time') / speeed;
          //coordinates for robot 
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/15;
          robotY += y/15;
        }
        else //metric
        {
          dis = speeed * driveBlock.getFieldValue('time')*18;
          //calculate time needed to move robot
          robotime = speeed * driveBlock.getFieldValue('time') / speeed;
          //coordinates for robot 
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/18;
          robotY += y/18;
        }
        if(robotime < 0)
        {
          robotime *= -1;
        }
        //STOPS ROBOT FROM GOING OFF GRID ###############
        if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

          // alert that tells the user to reset

          alert("Keep the robot on the grid! \nPlease reset and try again.");
          return;
        }

        
        console.log('dis x' + x)
        //call drive animation function
        drive(x,y,robotime);
        //display coordinates on screen
        document.getElementById('coordinates1').innerHTML = getCoordinates();
    }
    
    //check if rootBlock is drive block
    if (rootBlock.type == 'linkbot_drive_distance_in' || rootBlock.type == 'linkbot_drive_distance_cm' || rootBlock.type == 'mindstorms_drive_distance_in' || rootBlock.type == 'mindstorms_drive_distance_cm') {

        driveBlock = rootBlock;
        robot_r = driveBlock.getFieldValue('radius');
        //check grid units to drive appropriate distance
        if(document.getElementById('US Customary').checked) //inches
        {
          //get distance from block
          dis = driveBlock.getFieldValue('distance')*15;
          //calculate time needed to move robot
          robotime = driveBlock.getFieldValue('distance') / speeed;
          //coordinates for robot 
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/15;
          robotY += y/15;
        }
        else //metric
        {
          dis = driveBlock.getFieldValue('distance')*18;
          robotime = driveBlock.getFieldValue('distance') / speeed;
          x = dis * Math.cos(angle);
          y = dis * Math.sin(angle);
          robotX += x/18;
          robotY += y/18;
        }
        
        if(robotime < 0)
        {
          robotime *= -1;
        }
        
        //STOPS ROBOT FROM GOING OFF GRID ###############
        if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

          // alert that tells the user to reset

          alert("Keep the robot on the grid! \nPlease reset and try again.");
          return;
        }

        
        console.log('dis x' + x)
        //call drive animation function
        drive(x,y,robotime);
        //display coordinates on screen
        document.getElementById('coordinates1').innerHTML = getCoordinates();
    }

    //check if rootBlock is turn block
    if (rootBlock.type == 'linkbot_turn_in' || rootBlock.type == 'linkbot_turn_cm' || rootBlock.type == 'mindstorms_turn_in' || rootBlock.type == 'mindstorms_turn_cm') {
      angleBlock = rootBlock;
      //get angle and turn direction from block
      angle += angleBlock.getFieldValue('turn direction')*Math.PI/180;
      blockDirection = angleBlock.getFieldValue('direction');
      newangle = angleBlock.getFieldValue('turn direction');
      robot_r = angleBlock.getFieldValue('radius');

      //update Display Angle based on turn direction
      if(blockDirection == 'turnLeft')
      {
        displayAngle += Number(newangle);
      }
      else if(blockDirection == 'turnRight')
      {
        displayAngle += 360 - Number(newangle);
      }

      if(newangle >= 360)
        newangle -= 360;

      //declare margin variables to get correct robot image from spritesheet
          var leftMargin = parseInt($("#roboyes").css('margin-left'));
          var topMargin = parseInt($("#roboyes").css('margin-top'));
          //determine time needed for each image turn interval
          var intervalTime = 500/(newangle/5);
          //determine number of images to cycle through on spritesheet
          var numImages = Math.floor(newangle/5);
          console.log("NUMBER OF IMAGES" + numImages);
          console.log('NEWANGLE NEW ANGLE ' + newangle);
          //call turn animation function
          setTimeout(function(){linkbotTurn(leftMargin, topMargin, newangle, numImages, intervalTime, blockDirection)}, intervalTime);
          //display current robot angle on screen
          document.getElementById('displayAngle1').innerHTML = getAngle(); 
    }
    
    

    //check if rootBlock is setSpeed block
    if(rootBlock.type == 'linkbot_speed_in' || rootBlock.type == 'linkbot_speed_cm' || rootBlock.type == 'mindstorms_speed_in' || rootBlock.type == 'mindstorms_speed_cm')
    {
      speedBlock = rootBlock;
      //get speed parameter from block
      speeed = speedBlock.getFieldValue('speed');
      robot_r = speedBlock.getFieldValue('radius');
    }


    var i = 0;
    //get all child blocks of root block
    childBlocks = rootBlock.getChildren();
    console.log('child ' + childBlocks.length);
    console.log('#####################################');

    //FIX THIS GRAYED RESET BUTTON SHITTTT********
    document.getElementsByClassName('toggleButton')[0].style.zIndex = 3;
    document.getElementsByClassName('toggleButton')[0].style.background = 'gray';
    document.getElementsByClassName('toggleButton')[0].disabled = true;
    setTimeout(function(){
        document.getElementsByClassName('toggleButton')[0].disabled = false; document.getElementsByClassName('toggleButton')[0].style.background = '#C99700';
      }, childBlocks.length*1000);

    //if rootBlock has child block(s)
    if(childBlocks.length > 0){
      //check type of child block to set appropriate timeout before next move
      if (rootBlock.type == 'linkbot_drive_distance_in' || rootBlock.type == 'linkbot_drive_distance_cm' || rootBlock.type == 'mindstorms_drive_distance_in' || rootBlock.type == 'mindstorms_drive_distance_cm'  || rootBlock.type == 'linkbot_drive_angle' || rootBlock.type == 'mindstorms_drive_angle' || rootBlock.type == 'linkbot_drive_time' || rootBlock.type == 'mindstorms_drive_time')
      {
      setTimeout(function(){move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)}, (robotime * 1000) + 100);
      }
      else if(rootBlock.type == 'linkbot_turn_in' || rootBlock.type == 'linkbot_turn_cm' || rootBlock.type == 'mindstorms_turn_in' || rootBlock.type == 'mindstorms_turn_cm')
      {
        setTimeout(function(){move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)}, 700);
      }
      else
      {
        move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)
      }
      
    }

    
    
console.log("distance in the block: " + dis);
 
  }

  //if user clicks Reset button
  else if(document.getElementsByClassName('toggleButton')[0].value ==='reset') {

    document.getElementsByClassName('toggleButton')[0].value = 'play';
    document.getElementsByClassName('toggleButton')[0].innerHTML = 'Run';
    

    //reset all variables and animations to their starting/original state
    $('#home').css({'width': 160 + 'px'});
    $('#home').css({'height': 160 + 'px'});
    if(imgChk == "linkbot"){
      $('#home').css({'background': 'url(./img/linkbot_spritesheet_robot_1.png)' + 0 +'px' + ' ' + 0 +'px'});
    }
    else{
      $('#home').css({'background': 'url(./img/mindstorms_spritesheet_robot_1.png)' + 0 +'px' + ' ' + 0 +'px'});
    }
    $('#home').css({'border': 'none'});

    if(document.getElementById('US Customary').checked)
      document.getElementById('coordinates1').innerHTML = "(" + Number(document.getElementById('x1').value) + " in," + Number(document.getElementById('y1').value) + " in)";
    else
      document.getElementById('coordinates1').innerHTML = "(" + Number(document.getElementById('x1').value) + " cm," + Number(document.getElementById('y1').value) + " cm)";
    robotX = Number(document.getElementById('x1').value);
    robotY = Number(document.getElementById('y1').value);

    $('#roboyes').css({'margin-left': 0 +'px'});
    $('#roboyes').css({'margin-top': 0 + 'px'});
    if(document.getElementById('US Customary').checked)
    {
      $('#horizTranslate').css({'margin-left': Number(document.getElementById('x1').value)*15 +'px'});
      $('#horizTranslate').css({'margin-top': Number(document.getElementById('y1').value)*-15 + 'px'});
    }
    else
    {
      $('#horizTranslate').css({'margin-left': Number(document.getElementById('x1').value)*18 +'px'});
      $('#horizTranslate').css({'margin-top': Number(document.getElementById('y1').value)*-18 + 'px'});
    }
    $('#home').css({'margin-left': 80 +'px'});
    $('#home').css({'margin-top': 255 + 'px'});

    $('#horizTranslate').css({'-webkit-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-moz-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-ms-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'-o-transition': 0.5+'s linear'});
    $('#horizTranslate').css({'transition': 0.5+'s linear'});
    
    setTimeout(function(){linkbotTurn(parseInt($("#roboyes").css('margin-left')), parseInt($("#roboyes").css('margin-top')), Number(document.getElementById('a1').value), Math.floor(Number(document.getElementById('a1').value)/5), 500/(Number(document.getElementById('a1').value)/5), 'turnLeft')}, 500/(Number(document.getElementById('a1').value)/5));
    //display current robot angle on screen
    document.getElementById('displayAngle1').innerHTML = getAngle(); 
    

    document.getElementById('displayAngle1').innerHTML = Number(document.getElementById('a1').value) + " deg";
    displayAngle = Number(document.getElementById('a1').value);
    speeed = 4;
    speeed2 = 4;
    speeed3 = 4;
    speeed4 = 4;
    first =0;
    angle = 0;
    newangle = 0;
    x = 0;
    y = 0;
    mathNumCheck = 0;
  };
}

//for every block after rootblock. has same functionality as onclick Run function.
function move(i,robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, num){
        console.log('i ' + i);
        console.log('angle ' + angle);
        block = childBlocks[num];
        console.log('i ' + i);
        console.log('child ' + childBlocks.length);

        if(block.type == 'controls_repeat_ext')
        {
          whileBlock = block;
          childBlocks = whileBlock.getChildren();
          if(childBlocks[0].type == 'math_number')
          {
            var math_number = childBlocks[0].getFieldValue('NUM');
          }

          var childBlockCheck = childBlocks;
          var loopTIME = 0;
          var cbIndex = 1;
          while(childBlockCheck[cbIndex])
          {
            if(childBlockCheck[cbIndex].type == 'linkbot_drive_distance_in' || childBlockCheck[cbIndex].type == 'linkbot_drive_distance_cm' || childBlockCheck[cbIndex].type == 'mindstorms_drive_distance_in' || childBlockCheck[cbIndex].type == 'mindstorms_drive_distance_cm')
            {
              loopTIME += (childBlockCheck[cbIndex].getFieldValue('distance') / speeed)*1000;
            }
               
            else{
              loopTIME += 600;
            }
            
            childBlockCheck = childBlockCheck[cbIndex].getChildren();
            cbIndex = 0;
          }


          
          if(childBlocks.length == 2){

            mathNumCheck = math_number;
            setTimeout(function(){whileRecurse(math_number, childBlocks, 1, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, loopTIME)}, 50);
          }
          else if(childBlocks.length > 2){
            mathNumCheck = math_number;
            setTimeout(function(){whileRecurse(math_number, childBlocks, 1, i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, loopTIME)}, 1000);

            setTimeout(function(){move(0, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 2)}, 1100 + ((math_number)*loopTIME));
          }

        }

        if(block.type == 'linkbot_drive_angle' || block.type == 'mindstorms_drive_angle')
        {
            driveBlock = block;
        
            if(document.getElementById('US Customary').checked) //inches
            {
                //get distance from block
                dis = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*15 / 360;
                dis2 = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*15 / 360;
                //calculate time needed to move robot
                robotime = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle') / (360 * speeed);
                //coordinates for robot 
                x = dis * Math.cos(displayAngle*Math.PI/180);
                y = dis * Math.sin(displayAngle*Math.PI/180);
                robotX += x/15;
                robotY += y/15;
            }
            else //metric
            {
                dis = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*18 / 360;
                dis2 = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle')*18 / 360;
                //calculate time needed to move robot
                robotime = 2 * Math.PI * robot_r * driveBlock.getFieldValue('angle') / (360 * speeed);
                //coordinates for robot 
                x = dis * Math.cos(displayAngle*Math.PI/180);
                y = dis * Math.sin(displayAngle*Math.PI/180);
                robotX += x/18;
                robotY += y/18;
            }
            if(robotime < 0)
            {
              robotime *= -1;
            }
            a = dis2 * Math.cos(angle)  + 60* Math.cos(angle);
            b = dis2 * Math.sin(angle)  + 60* Math.sin(angle);
          //STOPS ROBOT FROM GOING OFF GRID ###############
          if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

            // alert that tells the user to reset
            alert("Keep the robot on the grid! \nPlease reset and try again.");
            return;
          }
          
            drive(x,y,robotime);
            //display coordinates on screen
            document.getElementById('coordinates1').innerHTML = getCoordinates();
        }
        
        if(block.type == 'linkbot_drive_time' || block.type == 'mindstorms_drive_time')
        {
            driveBlock = block;
            
            if(document.getElementById('US Customary').checked) //inches
            {
            //get distance from block
            dis = speeed * driveBlock.getFieldValue('time')*15;
            dis2 = speeed * driveBlock.getFieldValue('time')*15;
            //calculate time needed to move robot
            robotime = speeed * driveBlock.getFieldValue('time') / speeed;
            //coordinates for robot 
            x = dis * Math.cos(displayAngle*Math.PI/180);
            y = dis * Math.sin(displayAngle*Math.PI/180);
            robotX += x/15;
            robotY += y/15;
            }
            else //metric
            {
            dis = speeed * driveBlock.getFieldValue('time')*18;
            dis2 = speeed * driveBlock.getFieldValue('time')*18;
            //calculate time needed to move robot
            robotime = speeed * driveBlock.getFieldValue('time') / speeed;
            //coordinates for robot 
            x = dis * Math.cos(displayAngle*Math.PI/180);
            y = dis * Math.sin(displayAngle*Math.PI/180);
            robotX += x/18;
            robotY += y/18;
            }
            if(robotime < 0)
            {
              robotime *= -1;
            }
            
            a = dis2 * Math.cos(angle)  + 60* Math.cos(angle);
            b = dis2 * Math.sin(angle)  + 60* Math.sin(angle);
            //STOPS ROBOT FROM GOING OFF GRID ###############
          if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

            // alert that tells the user to reset
            alert("Keep the robot on the grid! \nPlease reset and try again.");
            return;
          }
       
            drive(x,y,robotime);
            //display coordinates on screen
            document.getElementById('coordinates1').innerHTML = getCoordinates();
        }
        
        if (block.type == 'linkbot_drive_distance_in' || block.type == 'linkbot_drive_distance_cm' || block.type == 'mindstorms_drive_distance_in' || block.type == 'mindstorms_drive_distance_cm') {
          driveBlock = block;
          robot_r = driveBlock.getFieldValue('radius');
          if(document.getElementById('US Customary').checked)
          {
            dis2 = driveBlock.getFieldValue('distance')*15;
            dis = driveBlock.getFieldValue('distance')*15;
            robotime = driveBlock.getFieldValue('distance')/speeed;
            x = dis * Math.cos(displayAngle*Math.PI/180);
            y = dis * Math.sin(displayAngle*Math.PI/180);
            robotX += x/15;
            robotY += y/15;
          }
          else
          {
            dis2 = driveBlock.getFieldValue('distance')*18;
            dis = driveBlock.getFieldValue('distance')*18;
            robotime = driveBlock.getFieldValue('distance')/speeed;
            x = dis * Math.cos(displayAngle*Math.PI/180);
            y = dis * Math.sin(displayAngle*Math.PI/180);
            robotX += x/18;
            robotY += y/18;
          }
          
          if(robotime < 0)
          {
            robotime *= -1;
          }
          //dis 2 x y  coords for line
          a = dis2 * Math.cos(angle)  + 60* Math.cos(angle);
          b = dis2 * Math.sin(angle)  + 60* Math.sin(angle);
          //STOPS ROBOT FROM GOING OFF GRID ###############
          if(robotX >24 || robotX <-12 || robotY >24 || robotY <-12){ 

            // alert that tells the user to reset
            alert("Keep the robot on the grid! \nPlease reset and try again.");
            return;
          }
        
          drive(x,y,robotime);
          document.getElementById('coordinates1').innerHTML = getCoordinates();
        }//if drive
        if (block.type == 'linkbot_turn_in' || block.type == 'linkbot_turn_cm' || block.type == 'mindstorms_turn_in' || block.type == 'mindstorms_turn_cm') {
          angleBlock = block;
          robot_r = angleBlock.getFieldValue('radius');
          blockDirection = angleBlock.getFieldValue('direction');
          angle += angleBlock.getFieldValue('turn direction')*Math.PI/180;
          angleImage = angleBlock.getFieldValue('turn direction');
          
          if(blockDirection == 'turnLeft')
          {
              console.log("WE IN IF BLOCKDIREC TURNLEFT FOR THE SECOND TURN: " + Number(newangle) + " " + displayAngle)
              newangle = displayAngle + (round(angleBlock.getFieldValue('turn direction')));
              if(newangle >= 360)
                newangle -= 360;  
          }
          else
          {
              newangle = displayAngle - (round(angleBlock.getFieldValue('turn direction')));
              if(newangle < 0)    
                newangle += 360;
              
          }
          displayAngle += Number(angleImage); 
          var leftMargin = parseInt($("#roboyes").css('margin-left'));
          var topMargin = parseInt($("#roboyes").css('margin-top'));
          var intervalTime = 500/(angleImage/5);
          var numImages = Math.floor(angleImage/5);
          console.log('NEWANGLE NEW ANGLE ' + newangle);
          setTimeout(function(){linkbotTurn(leftMargin, topMargin, newangle, numImages, intervalTime, blockDirection)}, intervalTime);
          
          document.getElementById('displayAngle1').innerHTML = getAngle();
            
        }//if turn

        if(block.type == 'linkbot_speed_in' || block.type == 'linkbot_speed_cm' || block.type == 'mindstorms_speed_in' || block.type == 'mindstorms_speed_cm')
        {
          speedBlock = block;
          speeed = speedBlock.getFieldValue('speed');
          robot_r = speedBlock.getFieldValue('radius');
        }
        

          childBlocks = block.getChildren();
      if(childBlocks.length > 0){
        i = i + 1;
        console.log('@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@')

        if (block.type == 'linkbot_drive_distance_in' || block.type == 'linkbot_drive_distance_cm' || block.type == 'mindstorms_drive_distance_in' || block.type == 'mindstorms_drive_distance_cm' || block.type == 'linkbot_drive_angle' || block.type == 'mindstorms_drive_angle' || block.type == 'linkbot_drive_time' || block.type == 'mindstorms_drive_time')
      {
      setTimeout(function(){move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)}, (robotime * 1000) + 100);
      }
      else if(block.type == 'linkbot_turn_in' || block.type == 'linkbot_turn_cm' || block.type == 'mindstorms_turn_in' || block.type == 'mindstorms_turn_cm')
      {
        setTimeout(function(){move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)}, 700);
      }
      else
      {
        move(i, robotime,driveBlock,angleBlock,x,y,a,b,angle,dis, dis2, blocks, childBlocks, newangle, 0)
      }

    }//if only one block
}

//linkbot turn animation function
function linkbotTurn(leftMargin, topMargin, newangle, numImages, intervalTime, blockDirection)
{
  blockDirec = blockDirection;
  console.log("MARGINS " + leftMargin + ' ' + topMargin);
  console.log('NUM IMAGESSSSSS '+ numImages)
  console.log("BLOCK DIRECTIOB LAT " + blockDirection)
  if(numImages <= 0)
    return;
  //LEFT TURN
  if(blockDirec === 'turnLeft')
  {
    if(leftMargin == -2200){
      if(topMargin == -1000){
        leftMargin = 0;
        topMargin = 0;
      }
      else{
      leftMargin = 0;
      topMargin -= 200;
      }
    }
    else
      leftMargin -= 200;
  }
  //RIGHT TURN
  else if(blockDirec === 'turnRight')
  {
    if(leftMargin == 0){
      if(topMargin == 0){
        leftMargin = -2200;
        topMargin = -1000;
      }
      else{
      leftMargin = -2200;
      topMargin += 200;
      }
    }
    else
      leftMargin += 200;
  }

  else
  {
    return;
  }
  if(imgChk == "linkbot"){
    $("#home").css({'background': 'url(./img/linkbot_spritesheet_robot_1.png) ' + leftMargin+'px' + ' ' + topMargin+'px'});
  }
  else{
    $("#home").css({'background': 'url(./img/mindstorms_spritesheet_robot_1.png) ' + leftMargin+'px' + ' ' + topMargin+'px'});
  }
  
  $("#roboyes").css({'margin-left': + leftMargin+'px'});
  $("#roboyes").css({'margin-top': + topMargin+'px'});
  numImages--;
  //call function recursively
  setTimeout(function(){linkbotTurn(leftMargin, topMargin, newangle, numImages, intervalTime, blockDirection)}, intervalTime);

}
//linkbot Drive animation function
function drive(x, y, robotime){
  console.log('DRIIIVEEEEE');
  console.log("ROBOTIMEEEEE: " + robotime)
  console.log('top' + ' ' + parseInt($('#horizTranslate').css('margin-top')));
  console.log('left' + ' ' + parseInt($('#horizTranslate').css('margin-left')));
  var oldx = x;
  var oldy = y;
  x = x + parseInt($('#horizTranslate').css('margin-left'));
  
  y = -y;
  y = y + parseInt($('#horizTranslate').css('margin-top'));

  console.log('oldx ' + oldx);
  console.log('x ' + x);
  console.log('y ' + y);
  //move the robot for robotime amount of seconds
  $('#horizTranslate').css({'-webkit-transition': robotime+'s linear'});
    $('#horizTranslate').css({'-moz-transition': robotime+'s linear'});
    $('#horizTranslate').css({'-ms-transition': robotime+'s linear'});
    $('#horizTranslate').css({'-o-transition': robotime+'s linear'});
    $('#horizTranslate').css({'transition': robotime+'s linear'});

    //if only x changes
    if(Math.abs(oldy) < 1){
      console.log('topssss ' + $('#horizTranslate').css('margin-top'));
      console.log(' 1oldx' + oldx);
      console.log(' 1oldy' + oldy);  
      $('#horizTranslate').css({'margin-left': x + "px"});
    }
    //if only y changes
    else if(Math.abs(oldx) < 1){
       $('#horizTranslate').css({'margin-top': y + "px"});
    }

    //if both x and y change
    else
    {
      $('#horizTranslate').css({'margin-top': y + "px"});
      $('#horizTranslate').css({'margin-left': x + "px"});
    }
      console.log('wtf');
}//drive func

$('.toggleButton:eq(1)').on('click', function() { 
  if($(this).html() === 'Play') 
  {
    $(this).html('Pause');
    $boxTwo.addClass('horizTranslate');
  } else {
    $(this).html('Play');
    var computedStyle = $boxTwo.css('margin-left');
    $boxTwo.removeClass('horizTranslate');
    $boxTwo.css('margin-left', computedStyle);
  }  
});
  </script>

  <script type="text/javascript">
  document.getElementsByClassName('start_Over')[0].onclick = function(){
    //updateStyleSheet('nothing');
    //elem = sv.getElementById("page");
    //$("#success").css({'visibility':'hidden'});
    $('#horizTranslate').css({'margin-top': 0 + "px"});
    $('#horizTranslate').css({'margin-left': 0 + "px"});
  }
  </script>

  <script>
    toolbox();
  </script>

  <script>
  //function to change style sheet
    function updateStyleSheet(filename) {
 
    // Create the CSS file name:
 
    newstylesheet = "style_" + filename + ".css";
 
    // Does the <link> tag (with id:dynamic_css) exist?
    // If not, we need to create it.
 
    if ($("#dynamic_css").length == 0) {
 
        // The next line will add the
        // <link> tag between the
        // <head> tags.
 
        $("head").append("<link>")
 
        // The next line will select the
        // <link> element you just added.
 
        css = $("head").children(":last");
 
        // The next line will set the
        // attributes of the elements
        // to make it load the CSS file.
 
        css.attr({
          id: "dynamic_css",
          rel:  "stylesheet",
          type: "text/css",
          href: newstylesheet
        });

 
    // If the <link> element already exists, we
    // simply need to change the value of "href". 
 
    } else {
        $("#dynamic_css").attr("href",newstylesheet);
    }
 
}
  </script>


</div>

  <script>
  var blockDirec = 'turnLeft';
  var elem;
  var sv = document.getElementById("mysvg");
  console.log(sv);
  //var sdoc = sv.getSVGDocument();
  console.log(sv);
  </script>
</body>
  <script>
    //show the popovers initially
    $('#content_blocks').popover('show');
    //display size of the overhead navs
    //var w = ($( window ).width())/2.5;
    //hide taps on click
    /*$("#page").onClick(function(){
        $('#content_blocks').popover('hide')      
    })*/
   // $( window ).resize(function() {
   //   w = ($( window ).width())/2.5;
   //   $("#numNav").css({'margin-left':w});
   // $("#copyright").css({'margin-left':w});
 // });
</script>

<script>
  document.getElementById('page').onclick = function(){
        $('#content_blocks').popover('hide')      
    };
</script>
</html>
